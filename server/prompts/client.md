# 聊天应用客户端开发 Prompt

## 项目概述

请为我们的即时通讯应用构建一个现代化、用户友好且功能完备的客户端。该应用应支持一对一聊天、群组聊天、音视频通话和用户社交管理等核心功能，类似于主流即时通讯工具（如微信、Telegram）。

在 client 目录下完成

## 技术栈

- **包管理**： pnpm
- **前端框架**: React 18
- **构建工具**: Vite
- **状态管理**: Zustand
- **UI 组件库**: Chakra UI
- **实时通信**: WebSocket、Socket.IO
- **媒体通信**: WebRTC
- **数据请求**: Axios
- **类型系统**: TypeScript
- **路由管理**: React Router v6
- **表单管理**: React Hook Form + Zod

## 核心功能需求

### 1. 认证与用户管理

- 登录/注册界面（支持邮箱/密码登录）
- 用户个人资料页（查看/编辑个人信息）
- 记住登录状态/自动登录
- 安全退出功能
- OAuth 社交媒体登录集成（可选）

### 2. 会话管理

- 会话列表（显示最近会话、最新消息预览和未读计数）
- 会话分类（私聊/群聊）
- 会话搜索功能
- 会话设置（静音、归档、置顶）
- 标记已读/未读
- 会话上下文恢复与跳转

### 3. 通讯录

- 好友列表（显示在线状态）
- 好友搜索功能
- 好友请求管理（发送、接受、拒绝）
- 分组管理
- 用户卡片快速预览

### 4. 聊天功能

- 消息发送与接收（实时更新）
- 支持多种消息类型：文本、图片、文件、语音
- 消息状态显示（发送中、已送达、已读）
- 消息回复与引用
- 历史消息加载（虚拟滚动与分页）
- 未读消息提示和跳转
- 输入状态提示（"对方正在输入..."）
- 表情与贴纸支持
- 代码片段格式化显示
- 链接预览

### 5. 群组功能

- 创建群组
- 群组成员管理
- 群组设置（名称、头像）
- 群组消息提醒设置
- 群组角色与权限管理

### 6. 音视频通话

- 发起/接收语音通话
- 发起/接收视频通话
- 通话状态管理（响铃、接通、挂断）
- 通话记录
- 屏幕共享功能
- 通话中消息发送

### 7. 通知系统

- 新消息通知
- 好友请求通知
- 来电通知

### 8. 设置与偏好

- 主题切换（明/暗模式，跟随系统）
- 字体大小调整
- 隐私设置
- 语言切换
- 消息备份与恢复

## UI/UX 要求

- 基于 Chakra UI 组件库构建一致的界面
- 响应式布局，适配不同设备（移动端优先）
- 流畅的动画和过渡效果（使用 Framer Motion）
- 支持系统级暗色/亮色模式切换
- 无障碍设计（ARIA 标准）
- 性能优化（代码分割、懒加载）

## 技术实现细节

### 项目结构

src/
├── assets/ # 静态资源
├── components/ # 可复用组件
│ ├── auth/ # 认证相关组件
│ ├── chat/ # 聊天相关组件
│ ├── ui/ # 基础 UI 组件
│ └── ...
├── hooks/ # 自定义钩子
├── layouts/ # 页面布局
├── pages/ # 页面组件
├── services/ # API 服务
├── store/ # Zustand 状态管理
│ ├── authStore.ts
│ ├── chatStore.ts
│ ├── ...
├── types/ # 类型定义
├── utils/ # 工具函数
├── App.tsx # 应用入口
└── main.tsx # 渲染入口

## 参考资源

- 后端 API 文档：在 docs 目录中
- 共享类型定义：位于 shared 目录，包含请求和响应类型
- 现有的业务逻辑文档
- Chakra UI 文档：https://chakra-ui.com/docs/getting-started
- Zustand 文档：https://github.com/pmndrs/zustand

了解完我们的项目需求后，我们一步一步开发
先完成 mvp 功能，

1. 搭建项目的基本结构，基本依赖
2. 实现登录/注册，进入主页面
